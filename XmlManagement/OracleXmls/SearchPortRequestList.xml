<?xml version="1.0" encoding="utf-8" ?>
<SearchPortRequestList>
    <MainSQL>
        SELECT
        REQ.REQ_SEQNO as 번호,
        REQ.CSTID AS CSTID,
        REQ.CSTSTAT as 상태,
        EA.ELTR_TYPE_CODE AS 극성,
        REQ.EQPTID AS 설비명,
        REQ.PORT_ID AS 포트명,
        REQ.REQ_TYPE_CODE AS 요청,
        REQ.RTD_RULE_ID,
        REQ.REQ_TRGT_EQPTID AS 최종EQPT,
        REQ.TRGT_EQPT_MOUNT_PSTN_ID AS UWD번호,
        TO_CHAR(REQ.INSDTTM, 'YYYY-MM-DD HH24:MI:SS'),
        TO_CHAR(REQ.UPDDTTM, 'YYYY-MM-DD HH24:MI:SS'),
        REQ.ERR_CODE,
        C.BUSINESS_USAGE_CODE_DESC,
        REQ.REQ_STAT_CODE,
        REQ.REQ_SEQS,
        REQ.PRCS_TYPE_CODE AS 코드,
        REQ.INSUSER AS 요청자,
        REQ.REQ_SEQNO,
        REQ.RTD_EXEC_LOG_CNTT
        FROM TB_MHS_TRF_REQ REQ
        LEFT JOIN TB_EGN_CODE_ITEM_INFO C ON C.BUSINESS_USAGE_TYPE_CODE = 'TRF_REQ_ERR_CODE' AND C.BUSINESS_USAGE_CODE_ID = REQ.ERR_CODE
        LEFT OUTER JOIN TB_EGN_EQUIP_SPEC_MST EA ON EA.EQUIPMENT_ID = REQ.EQPTID
        WHERE 1 = 1
        AND TO_CHAR(REQ.INSDTTM, 'YYYY-MM-DD') BETWEEN :StartTime AND :EndTime
        +Option1
        +Option2
        +Option3
        +Option4
        +Option5
        ORDER BY REQ.CSTID, REQ.UPDDTTM DESC
    </MainSQL>
    <Option>
        <Option1 type="IF" condition="not_equal" key="CSTID" dataType="string" default="">
            AND (REQ.CSTID IN (:CSTID) OR REQ.CSTID IN (:CSTID))
        </Option1>
        <Option2 type="IF" condition="not_equal" key="PORT_ID" dataType="string" default="">
            AND REQ.PORT_ID LIKE :PORT_ID
        </Option2>
        <Option3 type="IF" condition="not_equal" key="RTD_RULE_ID" dataType="string" default="">
            AND REQ.RTD_RULE_ID LIKE :RTD_RULE_ID
        </Option3>
        <Option4 type="IF" condition="not_equal" key="REQ_STAT_CODE" dataType="string" default="">
            AND REQ.REQ_STAT_CODE like :REQ_STAT_CODE
        </Option4>
        <Option5 type="IF" condition="not_equal" key="CSTSTAT" dataType="string" default="">
            AND REQ.CSTSTAT = :CSTSTAT
        </Option5>
        <Option6 type="VAR" condition="" key="StartTime" dataType="DateTime" default=""/>
        <Option7 type="VAR" condition="" key="EndTime" dataType="DateTime" default=""/>
    </Option>
    <AdditionalVariable>
    </AdditionalVariable>
    <Coloring>
        <REQ_STAT_CODE Red="255" Green="155" Blue="155" IsColoringColumn="false" IsTimeCompare="false">
            <REQUEST Red="255" Green="212" Blue="212" IsColoringRow="true"/>
            <REQUEST_WRTD Red="255" Green="212" Blue="212" IsColoringRow="true"/>
            <QUERY Red="255" Green="212" Blue="212" IsColoringRow="true"/>
        </REQ_STAT_CODE>
        <상태 Red="255" Green="155" Blue="155" IsColoringColumn="false" IsTimeCompare="false">
            <U Red="164" Green="201" Blue="255" IsColoringRow="false"/>
            <E Red="228" Green="239" Blue="255" IsColoringRow="false"/>
        </상태>
    </Coloring>
    <EventValues>
        <CSTID TYPE='string' CallSQL = 'SearchCarrierInfomation' EventType='Click'/>
        <REQ_SEQNO TYPE='Bigint' CallSQL = 'SearchTransportJobInfomation' EventType='Click'/>
        <RTD_EXEC_LOG_CNTT TYPE='string' CallSQL = '' EventType='Click'/>
    </EventValues>
</SearchPortRequestList>